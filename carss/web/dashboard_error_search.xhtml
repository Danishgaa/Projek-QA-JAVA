<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Dashboard - cars</title>
        <link rel="icon" type="image/png" href="resources/image/Logo.png" />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU"
            crossorigin="anonymous"
        />
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
            crossorigin="anonymous"
        ></script>
        <style>
            @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display;=swap");
            
            * {
                font-family: "Poppins", sans-serif;
                font-size: 1.02rem;
            }
            
            
            html {
            height: 100%;
            background-color: #edeff5;
            }
            
            body {
            min-height: 100%;
            }

            .input-focus:focus {
                border-color: #3d5c4a;
                box-shadow: 0 0 0 0.25rem rgb(225 162 33 / 25%);
            }

            .table-orange {
                background-color: #3d5c4a;
            }

            .button-orange {
                background-color: #3d5c4a;
            }

            .button-orange:hover {
                background-color: #3d5c4a;
            }

            .button-orange:focus {
                border-color: #3d5c4a;
                box-shadow: 0 0 0 0.25rem rgb(225 162 33 / 25%);
            }

            /* style untuk scroll tbody */
            .tableFixHead {
                overflow: auto;
                height: 575px;
            }
            .tableFixHead thead {
                position: sticky;
                top: 0;
                z-index: 1;
            }

            thead {
                background-color: #3d5c4a;
                color: white;
            }
            
            .input-focus:focus {
                border-color: #94c6a9;
                box-shadow: 0 0 0 0.25rem rgb(225 162 33 / 25%);
            }
            
            .first-row {
                height: 10%;
            }
            
            .second-row {
                height: 90%
            }
        </style>
    </h:head>
    <h:body style="background-image: url('resources/image/background.jpg'); background-repeat: no-repeat; background-attachment: fixed; background-size: cover;">
        <div>
            <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #3d5c4a; box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;">
            <h:graphicImage class="img-fluid" value="resources/image/Logo.png" alt="logo" width="150"/>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-center" id="navbarNavAltMarkup" style="margin-left: -70px">
            <div class="navbar-nav">
                <a class="nav-item nav-link" style="color: white;" href="homepage.xhtml">Home</a>
                <a class="nav-item nav-link active" style="color: white;" href="dashboard.xhtml">Product</a>
            </div>
            </div>
            <a class="nav-item nav-link" href="index.xhtml" style="margin-right: 5px; color: white;">Logout</a>
            </nav>
        </div>
        <div class="container-fluid h-100">
            <div class="row second-row">
                <div class="col-sm-12 col-md-8 px-4">
                    <h3 class="mt-3" style="color: white; background-color: #3d5c4a; text-align: center; font-size: 25px; box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px; padding-top: 10px; padding-bottom: 10px; border-radius: 15px; font-weight: bold">Product Table List</h3>
                    <div class="table-responsive mt-3 tableFixHead">
                        <h:dataTable
                            value="#{product.getAllRecords()}"
                            var="prod"
                            class="table table-striped table-hover"
                            style="background-color: white; box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;"
                        >
                            <h:column>
                                <f:facet name="header">ID</f:facet>
                                #{prod.id}
                            </h:column>
                            <h:column>
                                <f:facet name="header">namamobil</f:facet>
                                #{prod.namamobil}
                            </h:column>
                            <h:column>
                                <f:facet name="header">tahunkeluaran</f:facet>
                                #{prod.tahunkeluaran}
                            </h:column>
                            <h:column>
                                <f:facet name="header">warna</f:facet>
                                #{prod.warna}
                            </h:column>
                            <h:column>
                                <f:facet name="header">spesifikasi</f:facet>
                                #{prod.spesifikasi}
                            </h:column>
                        </h:dataTable>
                    </div>
                </div>
                <div class="col-sm-12 col-md-4 px-4" style="background-color: #e4f1e9">
                    <h2 class="mt-3" style="color: black; text-align: center; font-weight: bold">Data</h2>
                    <h:form class="mt-3 needs-validation" p:novalidate="true">
                        <div class="row mb-3">
                            <h:outputLabel for="id" class="col-sm-3 col-form-label" value="Product ID"/>
                            <div class="col-sm-9">
                                <h:inputText p:type="number" class="form-control input-focus" id="id" p:required="true" value="#{product.id}" autocomplete="off"/>
                                <div class="invalid-feedback">
                                    Please enter a product ID
                                </div>
                            </div>
                        </div>
                        <div class="d-grid gap-2">
                            <h:commandButton type="submit" class="btn text-white button-orange" value="Search" action="#{product.getById()}"/>
                        </div>
                    </h:form>
                    <hr/>
                    <h:form class="needs-validation" p:novalidate="true">    
                        <h:inputHidden
                            class="form-control input-focus"
                            id="id-hidden"
                            value="#{product.id}"
                        />
                        <div class="mb-3">
                            <h:outputLabel for="title" class="form-label">
                                Product title
                            </h:outputLabel>
                            <h:inputText
                                class="form-control input-focus"
                                id="namamobil"
                                value="#{product.namamobil}"
                                p:required="true"
                                />
                            <div class="invalid-feedback">
                                Please enter a nama mobil
                            </div>
                        </div>
                        <div class="mb-3">
                            <h:outputLabel for="tahunkeluaran" class="form-label">tahunkeluaran</h:outputLabel>
                            <h:inputText
                                class="form-control input-focus"
                                id="author"
                                value="#{product.tahunkeluaran}"
                                p:required="true"
                            />
                            <div class="invalid-feedback">
                                Please enter a author
                            </div>
                        </div>
                        <div class="mb-3">
                            <h:outputLabel for="warna" class="form-label">warna</h:outputLabel>
                            <h:inputText
                                class="form-control input-focus"
                                id="releasedate"
                                
                                value="#{product.warna}"
                                p:required="true"
                                
                                />
                            <div class="invalid-feedback">
                                Please enter a warna
                            </div>
                        </div>
                        <div class="mb-3">
                            <h:outputLabel for="spesifikasi" class="form-label">Spesifikasi</h:outputLabel>
                            <h:inputText
                                class="form-control input-focus"
                                id="spesifikasi"
                             
                                value="#{product.spesifikasi}"
                                p:required="true"
                                
                                />
                            <div class="invalid-feedback">
                                Please enter a synopsis
                            </div>
                        </div>
                        <div class="row mt-4">
                            <div class="col-sm-12 col-md-4 mb-3">
                                <h:commandButton class="btn btn-success w-100" value="Create" action="#{product.saveProduct()}" style="background-color: #4E9F3D;"/>
                            </div>
                            <div class="col-sm-12 col-md-4 mb-3">
                                <h:commandButton class="btn btn-primary w-100" value="Update" action="#{product.editProduct()}" style="background-color: #3D2C8D;"/>
                            </div>
                            <div class="col-sm-12 col-md-4 mb-3">
                                <h:commandButton class="btn btn-danger w-100" value="Delete" action="#{product.deleteProduct()}" style="background-color: #950101;"/>
                            </div>
                          </div>
                    </h:form>
                </div>
            </div>
        </div>
        <script>
            // Example starter JavaScript for disabling form submissions if there are invalid fields
            (function () {
                'use strict'

                // Fetch all the forms we want to apply custom Bootstrap validation styles to
                var forms = document.querySelectorAll('.needs-validation')

                // Loop over them and prevent submission
                Array.prototype.slice.call(forms)
                    .forEach(function (form) {
                        form.addEventListener('submit', function (event) {
                            if (!form.checkValidity()) {
                                event.preventDefault()
                                event.stopPropagation()
                            }

                            form.classList.add('was-validated')
                        }, false)
                   })
            })()
        </script>
    </h:body>
</html>

